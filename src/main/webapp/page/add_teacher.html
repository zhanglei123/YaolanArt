<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>添加教师</title>
<meta name="renderer" content="webkit|ie-comp|ie-stand" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport"
	content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<link href="assets/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="css/style.css" />
<link rel="stylesheet" href="assets/css/ace.min.css" />
<link rel="stylesheet" href="assets/css/font-awesome.min.css" />
<link href="Widget/icheck/icheck.css" rel="stylesheet" type="text/css" />
<!--[if IE 7]>
<link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css" />
<![endif]-->
<!--[if lte IE 8]>
<link rel="stylesheet" href="assets/css/ace-ie.min.css" />
<![endif]-->
<script src="js/jquery-1.9.1.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/typeahead-bs2.min.js"></script>
<script src="assets/layer/layer.js" type="text/javascript"></script>
<script type="text/javascript" src="Widget/swfupload/swfupload.js"></script>
<script type="text/javascript" src="Widget/swfupload/swfupload.queue.js"></script>
<script type="text/javascript" src="Widget/swfupload/swfupload.speed.js"></script>
<script type="text/javascript" src="Widget/swfupload/handlers.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		$(".left_add").height($(window).height() - 60);
		$(".right_add").width($(window).width() - 600);
		$(".right_add").height($(window).height() - 60);
		$(".select").height($(window).height() - 195);
		$("#select_style").height($(window).height() - 220);
		//当文档窗口发生改变时 触发  
		$(window).resize(function() {
			$(".right_add").width($(window).width() - 600);
			$(".left_add").height($(window).height() - 60);
			$(".right_add").height($(window).height() - 60);
			$(".select").height($(window).height() - 195);
			$("#select_style").height($(window).height() - 220);
		});
	})
	function checkLength(which) {
		var maxChars = 500;
		if (which.value.length > maxChars) {
			layer.open({
				icon : 2,
				title : '提示框',
				content : '您出入的字数超多限制!',
			});
			// 超过限制的字数了就将 文本框中的内容按规定的字数 截取
			which.value = which.value.substring(0, maxChars);
			return false;
		} else {
			var curr = maxChars - which.value.length; // 减去 当前输入的
			document.getElementById("sy").innerHTML = curr.toString();
			return true;
		}
	}
	//下拉框交换JQuery
	$(function() {
		//移到右边
		$('#add').click(function() {
			//获取选中的选项，删除并追加给对方
			$('#select1 option:selected').appendTo('#select2');
		});
		//移到左边
		$('#remove').click(function() {
			$('#select2 option:selected').appendTo('#select1');
		});
		//全部移到右边
		$('#add_all').click(function() {
			//获取全部的选项,删除并追加给对方
			$('#select1 option').appendTo('#select2');
		});
		//全部移到左边
		$('#remove_all').click(function() {
			$('#select2 option').appendTo('#select1');
		});
		//双击选项
		$('#select1').dblclick(function() { //绑定双击事件
			//获取全部的选项,删除并追加给对方
			$("option:selected", this).appendTo('#select2'); //追加给对方
		});
		//双击选项
		$('#select2').dblclick(function() {
			$("option:selected", this).appendTo('#select1');
		});
	});
	var user = [ {
		"id" : 1,
		"name" : "贝德玛（Bioderma）温和卸妆水净妍/舒妍洁肤液卸妆水 ",
		"status" : "关闭"
	}, {
		"id" : 2,
		"name" : "欧诗漫 OSM 奢华金萃臻贵娇宠礼盒",
		"status" : "关闭"
	}, {
		"id" : 3,
		"name" : "舒蕾洗发水奢养精油套装",
		"status" : "关闭"
	}, {
		"id" : 4,
		"name" : "雅芳小黑裙香体乳150g",
		"status" : "关闭"
	}, {
		"id" : 5,
		"name" : "嘉媚乐（CAMENAE）玫瑰之爱保",
		"status" : "启用"
	}, {
		"id" : 6,
		"name" : "欧莱雅男士护肤套装 劲能极速活肤液50ml",
		"status" : "启用"
	}, {
		"id" : 7,
		"name" : "美即 面膜 净透亮肤套装面膜贴升级版",
		"status" : "启用"
	}, {
		"id" : 8,
		"name" : "可悠然（KUYURA）美肌沐浴露（欣怡幽香）550ml ",
		"status" : "启用"
	}, {
		"id" : 9,
		"name" : "李施德林漱口水冰蓝口味500ml双包装",
		"status" : "启用"
	}, {
		"id" : 10,
		"name" : "吕(Ryo)滋养韧发密集莹韧[滋润型]洗护套装 ",
		"status" : "启用"
	}];
	$(document).ready(
			function() {
				var seach = $("#seach");
				seach.keyup(function(event) {
							//获取当前文本框的值
							var seachText = $("#seach").val();
							var product = "<div class='title_name'>产品名称</div><select multiple='multiple' id='select1' class='select'>";
							if (seachText != "") {
								$
										.each(
												user,
												function(id, item) {
													//如果包含则为select赋值
													if (item.name
															.indexOf(seachText) != -1
															&& item.status
																	.indexOf(seachText) != -1) {
														product += "<option value="+item.id+">"
																+ "("
																+ item.status
																+ ")"
																+ item.name
																+ "</option>";
													}
												})
								$("#select_style").html(product);
							} else {
								$
										.each(
												user,
												function(id, item) {
													name = item.name;
													status = item.status;
													product += "<option value="+item.id+">"
															+ "("
															+ item.status
															+ ")"
															+ item.name
															+ "</option>";
												})
								$("#select_style").html(product);
							}
							product + "</select>";
						});

				var product = "<div class='title_name'>产品名称</div>";

						product += "<select multiple='multiple' id='select1' class='select'";
						$
								.each(
										user,
										function(id, item) {
											name = item.name;
											status = item.status;
											product += "<option value="+item.id+" title="+item.name+">"
													+ "("
													+ item.status
													+ ")"
													+ item.name + "</option>";

										})
						product + "</select>";
						$("#select_style").html(product);

					})

function updateProgress(file) {
	$('.progress-box .progress-bar > div').css('width',
			parseInt(file.percentUploaded) + '%');
	$('.progress-box .progress-num > b').html(
			SWFUpload.speed.formatPercent(file.percentUploaded));
	if (parseInt(file.percentUploaded) == 100) {
		// 如果上传完成了
		$('.progress-box').hide();
	}
}

function initProgress() {
	$('.progress-box').show();
	$('.progress-box .progress-bar > div').css('width', '0%');
	$('.progress-box .progress-num > b').html('0%');
}

function successAction(imagePath) {
	debugger;
	var up_path = imagePath;
	var up_width = "125";
	var up_height = "185";
	var _up_width, _up_height;
	if (up_width > 120) {
		_up_width = 120;
		_up_height = _up_width * up_height / up_width;
	}
	$(".logobox .resizebox").css({
		width : _up_width,
		height : _up_height
	});
	$(".logobox .resizebox > img").attr('src', up_path);
	$(".logobox .resizebox > img").attr('width', _up_width);
	$(".logobox .resizebox > img").attr('height', _up_height);
}

var swfImageUpload;
$(document).ready(
	function() {
		var settings = {
			flash_url : "Widget/swfupload/swfupload.swf",
			flash9_url : "Widget/swfupload/swfupload_fp9.swf",
			upload_url : "/teacher/uploadPersonImage.do",// 接受上传的地址
			file_post_name : "filedata",
			//post_params: {"contentId" :$("#msgContentId").val()},
			file_size_limit : "5MB",// 文件大小限制
			file_types : "*.jpg;*.png;*.jpeg;",// 限制文件类型
			file_types_description : "图片",// 说明，自己定义
			file_upload_limit : 100,
			file_queue_limit : 0,
			custom_settings : {},
			debug : false,
			// Button settings
			button_image_url : "Widget/swfupload/upload-btn.png",
			button_width : "95",
			button_height : "30 ",
			button_placeholder_id : 'uploadBtnHolder',
			button_window_mode : SWFUpload.WINDOW_MODE.TRANSPARENT,
			button_cursor : SWFUpload.CURSOR.HAND,
			button_action : SWFUpload.BUTTON_ACTION.SELECT_FILE,

			moving_average_history_size : 40,

			// The event handler functions are defined in handlers.js
			swfupload_preload_handler : preLoad,
			swfupload_load_failed_handler : loadFailed,
			file_queued_handler : fileQueued,
			file_dialog_complete_handler : fileDialogComplete,
			upload_start_handler : function(file) {
				initProgress();
				updateProgress(file);
			},
			upload_progress_handler : function(file, bytesComplete,
					bytesTotal) {
				updateProgress(file);
			},
			upload_success_handler : function(file, data, response) {
				// 上传成功后处理函数
				var fileInfo = JSON.parse(data);;
				if(fileInfo.code == "00"){
					successAction(fileInfo.message);
				}else{
					layer.msg("上传失败",{time:1000,icon:2});
				}
			},
			upload_error_handler : function(file, errorCode, message) {
				alert('上传发生了错误！');
			},
			file_queue_error_handler : function(file, errorCode,
					message) {
				if (errorCode == -110) {
					alert('您选择的文件太大了。');
				}
			}
		};
		swfImageUpload = new SWFUpload(settings);
});
</script>
</head>

<body>
	<div class="clearfix">
		<div id="add_teacher" class="clearfix">
			<div class="left_add">
				<div class="title_name">添加教师</div>
				<ul class="add_conent">
					<li class=" clearfix">
						<label class="label_name">
							<i>*</i>
							姓名：
						</label>
						<input name="姓名" id="name" type="text" class="add_text" style="width:200px"/>
					</li>
					<li class=" clearfix">
						<label class="label_name">
							<i>*</i>
							性别：
						</label>
						<label style="margin-left: 10px;">
							<input name="sex" id = "man" type="radio" value ="1" class="ace"/>
								<span class="lbl">男</span>
						</label>
						<label>
							<input name="sex" id = "woman" type="radio" value ="2" class="ace"/>
								<span class="lbl">女</span>
						</label>
					</li>
					<li class=" clearfix">
						<label class="label_name">个人图片：</label>
						<div class="demo l_f">
							<div class="logobox">
								<div class="resizebox">
									<img src="images/image.png" width="80px" alt="" height="140px" />
								</div>
							</div>
							<div class="logoupload">
								<div class="btnbox">
									<a id="uploadBtnHolder" class="uploadbtn" href="javascript:;">上传替换</a>
								</div>
								<div style="clear: both; height: 0; overflow: hidden;"></div>
								<div class="progress-box" style="display: none;">
									<div class="progress-num">
										上传进度：
										<b>0%</b>
									</div>
									<div class="progress-bar">
										<div style="width: 0%;" class="bar-line"></div>
									</div>
								</div>
							</div>

						</div>
						<div class="prompt">
							<p>
								图片大小
								<b>125px*185px</b>
								图片大小小于5MB,
							</p>
							<p>支持.jpg;.gif;.png;.jpeg格式的图片</p>
						</div>
					</li>
					<li class=" clearfix">
						<label class="label_name">
							<i>*</i>
							手机号：
						</label>
						<input name="手机号" id="phone" type="text" class="add_text" style="width:200px" />
					</li>
					<li class=" clearfix">
						<label class="label_name">
							<i>*</i>
							身份证号：
						</label>
						<input name="身份证号" id="idCard" type="text" class="add_text" style="width: 200px" />
					</li>
					<li class=" clearfix">
						<label class="label_name">
							<i>*</i>
							学历：
						</label>
						<input name="学历" id="educationType" type="text" class="add_text" style="width: 200px" />
					</li>
					<li class=" clearfix">
						<label class="label_name">
							<i>*</i>
							毕业学校：
						</label>
						<input name="毕业学校" id="educationSchool" type="text" class="add_text" style="width: 200px" />
					</li>
					<li class=" clearfix">
						<label class="label_name">
							电子邮箱：
						</label>
						<input name="电子邮箱" id="email" type="text" class="add_text" style="width: 200px" />
					</li>
					<li class=" clearfix">
						<label class="label_name">
							QQ：
						</label>
						<input name="QQ" id="qq" type="text" class="add_text" style="width: 200px" />
					</li>
					<li class=" clearfix">
						<label class="label_name">
							<i>*</i>
							授课类型：
						</label>
						<input name="授课类型" id="qq" type="text" class="add_text" style="width: 200px" />
					</li>
					<li class=" clearfix">
						<label class="label_name">
							<i>*</i>
							是否全职：
						</label>
						<input name="是否全职" id="qq" type="text" class="add_text" style="width: 200px" />
					</li>
				
				</ul>
			</div>
			<div class="right_add">
				<div class="title_name">添加学生</div>

				<div class="p_select_list">
					<div class="left_produt produt_select_style">
						<div id="select_style"></div>
						<span class="seach_style">
							<input name="" type="text" id="seach" class="seach"/>
								<i class="icon-search"></i>
						</span>
					</div>
					<div class="Switching_btn">

						<span id="add_all" class="Switching">
							<input type="button" class="btn btn-warning" value=">>" />
						</span>
						<span id="add" class="Switching">
							<input type="button" class="btn btn-primary" value=">" />
						</span>
						<span id="remove" class="Switching">
							<input type="button" class="btn btn-primary" value="<" />
						</span>
						<span id="remove_all" class="Switching">
							<input type="button" class="btn btn-warning" value="<<" />
						</span>
					</div>
					<div class="right_product produt_select_style">
						<div class="title_name">归类商品</div>
						<select multiple="multiple" id="select2" class="select">
						</select>
					</div>
				</div>
			</div>
		</div>
		<div class="button_teacher">
			<input name="" type="button" class="btn btn-warning" value="保存" />
			<input name="" type="reset" value="取消" class="btn btn-warning" />
		</div>
	</div>
</body>
</html>

